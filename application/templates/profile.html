{% extends 'base.html' %}
{% block content %}
<section class="profile-header">
    <div class="flex-container">
        <div class = "left-card">
            <div class = "left-card__title">
                <h1-blue>Your Courses</h1-blue>
                <a href="/courses/" class="left-card__profile-rounded-blue-button"> Add/Join Courses
                    <div class="bx bx-up-arrow-alt" id="menu-icon"></div>
                </a>
            </div>
            <div class="left-card__courses">
                {% for course in courses %}
                <div class="left-card__course-items">
                    <div class="left-card__courses--h1">
                        {{course.course_code}}
                    </div>
                    <div class="left-card__courses--h2">
                        <p>{{course.course_name}}</p>
                    </div>
                    <form action="/courses/drop-course/" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="course_code" value="{{course.course_code}}"/>
                        <input class="rounded-blue-button" type="submit" name="drop" value="Drop Course"/>
                    </form>
                </div>
                {% endfor %}  
            </div>
            <h1-blue>Your Posts</h1-blue>
            <div class="left-card__profile-post-container">
                <!--Template for Post/Resource-->
                {% for post in posts %}
                <div class="left-card__profile-post"> 
                    <div class="left-card__profile-text--title">
                        <p>{{post.title}}</p>
                    </div>
                    <div class="left-card__profile-text--code">
                        <p>{{post.course_code}}</p>
                    </div>
                    <div class="tags">
                        <button class="info-tag tag-spacing" type = "button">Topic</button>
                        <button class="info-tag tag-spacing" type="button">Topic</button>
                        <button class="info-tag tag-spacing" type="button">Topic</button>
                        <button class="info-tag tag-spacing" type="button">Topic</button>
                    </div>
                    <div class="left-card__profile-text--description">
                        <p>{{post.description}}</p>
                    </div>
                    <form class="course-blue-button" action="/profile/delete/" method="post" enctype="multipart/form-data">
                        <input type="hidden" name="post_id" value="{{post.post_id}}"/>
                        <input class="rounded-blue-button" type="submit" name="drop" value="Delete Post"/>
                    </form>
                </div>
                {% endfor %}
                <!--Template for StudyGuide-->
                <!-- <div class="profile-post"> 
                    <div class="profile-post-h1">
                        <p>Study Guide</p>
                    </div>
                    <p class="study-group">STUDY GROUP</p>
                    <div class="tags">
                        <button class="info-tag tag-spacing" type = "button">Topic</button>
                        <button class="info-tag tag-spacing" type="button">Topic</button>
                        <button class="info-tag tag-spacing" type="button">Topic</button>
                        <button class="info-tag tag-spacing" type="button">Topic</button>
                    </div>
                    <div class="profile-post-h2">
                        <p>Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                    </div>
                </div> -->
            </div>
        </div>
        <div class = "right-box">
            <img src="{{ profile_pic }}" class = "right-card__profile-photo">
            <p class = "right-card__profile-title--name">{{username }}</p>
            <form method="POST" action="/profile/{{username }}/edit/" enctype="multipart/form-data">
                <p class = "right-card__profile-title">Bio</p>
                <textarea class="right-card__profile-textbox--bio" type="submit" name="bio" value="bio">{{ profile_data.get("bio") }}</textarea>
                <p class = "right-card__profile-title">Preferred Contact Info</p>
                <div class="right-card__profile-textbox--contact">{{ profile_data.email }}</div>
                <input type="tel" class="right-card__profile-textbox--contact" style="margin-top:10px" name="phone-num"  value="{{ profile_data.get("phone_num") }}">
                <div class="center-item">
                    <input class="right-card__profile-bio-link" style="background: none; border: none" type="submit" name="save" value="Save Profile Data">
                </div>
                <input type="hidden" name="operation" value="edit-profile"/>
            </form>
            <form action="/logout">
                <div class = "button-container">
                    <button class = "rounded-blue-button font-20">Log Out</button>
                </div>
            </form>
         </div>
</section>
{% endblock %}